<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portofolio | Full Stack Developer</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', Arial, sans-serif;
      margin: 0;
      background: linear-gradient(135deg, #e3f2fd 0%, #e8f5e9 50%, #263238 100%);
      color: #222;
      position: relative;
      overflow-x: hidden;
    }
    header {
      background: linear-gradient(90deg, #388e7c 0%, #1976d2 100%);
      color: #fff;
      padding: 48px 0 24px 0;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.07);
      position: relative;
      overflow: hidden;
    }
    .glasses {
      width: 120px;
      height: 48px;
      margin-bottom: 16px;
      animation: floatGlasses 2.5s ease-in-out infinite alternate;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    @keyframes floatGlasses {
      0% { transform: translateY(0) scale(1); filter: drop-shadow(0 0 0 #1de9b6); }
      100% { transform: translateY(-12px) scale(1.05); filter: drop-shadow(0 8px 16px #1de9b6aa); }
    }
    header h1 {
      margin: 0;
      font-size: 2.5rem;
      font-weight: 700;
      letter-spacing: 2px;
      text-shadow: 0 2px 8px #1de9b6aa;
    }
    nav {
      display: flex;
      justify-content: center;
      margin: 24px 0;
    }
    .nav-btn {
      background: #fff;
      border: 2px solid #388e7c;
      color: #388e7c;
      padding: 10px 32px;
      margin: 0 8px;
      font-size: 1.1rem;
      font-weight: 700;
      border-radius: 24px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(.4,2,.3,1);
      box-shadow: 0 2px 8px rgba(29,233,182,0.07);
      perspective: 400px;
    }
    .nav-btn.active, .nav-btn:hover {
      background: #388e7c;
      color: #fff;
      box-shadow: 0 8px 32px #1de9b6cc, 0 2px 8px #009e6e44;
      transform: scale(1.08) rotateX(8deg) rotateY(-8deg) skewY(-2deg);
    }
    .section {
      max-width: 800px;
      margin: 0 auto;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 2px 16px rgba(29,233,182,0.09);
      padding: 32px;
      display: none;
      animation: fadeIn 0.7s;
      perspective: 1200px;
      border: 1px solid #1976d2;
    }
    .section.active {
      display: block;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(24px); }
      to { opacity: 1; transform: translateY(0); }
    }
    h2, h3 {
      color: #1976d2;
    }
    a {
      color: #388e7c;
      text-decoration: underline;
      transition: color 0.2s;
    }
    a:hover {
      color: #1976d2;
    }
    .pdf-viewer {
      background: linear-gradient(135deg, #e3f2fd 0%, #e8f5e9 100%);
      border-radius: 16px;
      box-shadow: 0 4px 32px #1de9b633;
      padding: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: fadeInViewer 1.2s cubic-bezier(.4,2,.3,1);
      transition: box-shadow 0.3s, transform 0.3s;
      perspective: 900px;
    }
 
    iframe {
      box-shadow: 0 4px 32px #388e7c44, 0 2px 8px #1976d222;
      transition: box-shadow 0.3s, transform 0.3s;
      transform-style: preserve-3d;
    }
 
    /* Particle 3D style */
    .particles-bg {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      pointer-events: none;
      z-index: 0;
    }
    @media (max-width: 600px) {
      header h1 { font-size: 1.5rem; }
      .section { padding: 16px; }
      .nav-btn { padding: 8px 16px; font-size: 1rem; }
      .glasses { width: 80px; height: 32px; }
    }
    .cv-link {
      display: inline-block;
      margin-top: 12px;
      font-weight: 700;
      color: #1976d2;
      background: #fff;
      padding: 8px 24px;
      border-radius: 24px;
      box-shadow: 0 2px 8px #1976d222;
      text-decoration: none;
      transition: background 0.2s, color 0.2s, box-shadow 0.2s;
      letter-spacing: 1px;
    }
    .cv-link:hover {
      background: #1976d2;
      color: #fff;
      box-shadow: 0 4px 16px #1976d288;
      text-shadow: 0 2px 8px #fff;
      filter: none;
    }
    .portfolio-list {
      display: flex;
      flex-wrap: wrap;
      gap: 32px;
      justify-content: center;
      margin-top: 16px;
      margin-bottom: 64px;
    }
    .portfolio-card {
      background: linear-gradient(135deg, #e3f2fd 0%, #e8f5e9 100%);
      border-radius: 18px;
      border:1px solid #1976d2;
      width: 320px;
      padding: 0 0 24px 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: transform 0.2s, box-shadow 0.2s;
      position: relative;
      overflow: hidden;
    }
    .portfolio-card:hover {
      transform: scale(1.04) translateY(-6px);
      box-shadow: 0 8px 32px #388e7c88;
      z-index: 2;
    }
    .portfolio-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-top-left-radius: 18px;
      border-top-right-radius: 18px;
      box-shadow: 0 2px 8px #1976d222;
      background: #eee;
    }
    .portfolio-card .card-title {
      font-size: 1.2rem;
      font-weight: 700;
      color: #1976d2;
      margin: 18px 0 8px 0;
      text-align: center;
      letter-spacing: 1px;
    }
    .portfolio-card .card-link {
      color: #388e7c;
      font-weight: 600;
      text-decoration: none;
      background: #fff;
      padding: 6px 18px;
      border-radius: 16px;
      box-shadow: 0 2px 8px #388e7c22;
      transition: background 0.2s, color 0.2s;
      margin-bottom: 8px;
      display: inline-block;
    }
    .portfolio-card .card-link:hover {
      background: #1976d2;
      color: #fff;
    }
    .portfolio-more {
      text-align: center;
      color: #1976d2;
      font-size: 1.1rem;
      margin-top: 32px;
      font-style: italic;
      opacity: 0.8;
    }
  </style>
</head>
<body>
  <div class="particles-bg">
    <canvas id="particlesCanvas"></canvas>
  </div>
  <header>
    <svg class="glasses" viewBox="0 0 120 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <ellipse cx="36" cy="24" rx="28" ry="16" fill="#217a5b" opacity="0.7"/>
      <ellipse cx="84" cy="24" rx="28" ry="16" fill="#217a5b" opacity="0.7"/>
      <rect x="34" y="20" width="52" height="8" rx="4" fill="#2e8b57"/>
      <ellipse cx="36" cy="24" rx="20" ry="12" fill="#fff" opacity="0.12"/>
      <ellipse cx="84" cy="24" rx="20" ry="12" fill="#fff" opacity="0.12"/>
      <circle cx="36" cy="24" r="6" fill="#2e8b57" opacity="0.18"/>
      <circle cx="84" cy="24" r="6" fill="#2e8b57" opacity="0.18"/>
    </svg>
    <h1>Portofolio Full Stack Developer</h1>
    <p>Iksan Nursalim</p>
    <a href="Resume.pdf" download class="cv-link" style="display:inline-block;margin-top:12px;font-weight:700;color:#1976d2;background:#fff;padding:8px 24px;border-radius:24px;box-shadow:0 2px 8px #1976d222;text-decoration:none;transition:background 0.2s,color 0.2s;">Download Resume</a>
  </header>
  <nav>
    <button class="nav-btn active" onclick="showSection('cv')">Resume</button>
    <button class="nav-btn" onclick="showSection('portfolio')">Portofolio</button>
  </nav>
  <section id="cv" class="section active" style="margin-bottom: 100px;">
    <div class="pdf-viewer">
      <iframe src="pdfjs/viewer.html" width="100%" height="1000" frameborder="0" allowfullscreen></iframe>
    </div>
  </section>
  <section id="portfolio" class="section" style="margin-bottom:100px">
    <div id="portfolio-list" class="portfolio-list"></div>
    <div class="portfolio-more">Dan masih banyak lagi portofolio yang belum dimasukkan.</div>
  </section>
  <script>
    // Render portfolio cards from JSON
    async function renderPortfolio() {
      const container = document.getElementById('portfolio-list');
      if(!container) return;
      container.innerHTML = '<div style="color:#888;text-align:center;">Loading...</div>';
      try {
        const res = await fetch('portfolio.json');
        const data = await res.json();
        container.innerHTML = data.map(item => `
          <div class="portfolio-card">
            <img src="${item.image}" alt="${item.nama}" />
            <div class="card-title">${item.nama}</div>
            <a href="${item.link}" class="card-link" target="_blank">Kunjungi Website</a>
          </div>
        `).join('');
      } catch(e) {
        container.innerHTML = '<div style="color:#d32f2f;text-align:center;">Gagal memuat data portofolio.</div>';
      }
    }
    // Panggil renderPortfolio saat menu portofolio dibuka
    function showSection(section) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById(section).classList.add('active');
      document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
      if(section === 'cv') {
        document.querySelectorAll('.nav-btn')[0].classList.add('active');
      } else {
        document.querySelectorAll('.nav-btn')[1].classList.add('active');
        renderPortfolio();
      }
    }
    // Jika pertama kali buka portofolio, render juga
    if(window.location.hash==='#portfolio') renderPortfolio();
    // Particle 3D animation (multi-shape)
    const canvas = document.getElementById('particlesCanvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
    function createParticles() {
      particles = [];
      const shapes = ['circle','triangle','square'];
      for(let i=0; i<36; i++) {
        const shape = shapes[Math.floor(Math.random()*shapes.length)];
        particles.push({
          x: Math.random()*canvas.width,
          y: Math.random()*canvas.height,
          z: Math.random()*200+50,
          r: Math.random()*8+6,
          dx: (Math.random()-0.5)*0.6,
          dy: (Math.random()-0.5)*0.6,
          dz: (Math.random()-0.5)*0.2,
          color: [
            'rgba(56,142,124,0.5)', // hijau gelap
            'rgba(25,118,210,0.4)', // biru
            'rgba(38,50,56,0.3)',   // abu gelap
            'rgba(255,255,255,0.18)'
          ][Math.floor(Math.random()*4)],
          shape
        });
      }
    }
    createParticles();
    function drawParticles() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      for(const p of particles) {
        let scale = 1 + p.z/300;
        ctx.save();
        ctx.globalAlpha = 0.8;
        ctx.shadowColor = p.color;
        ctx.translate(p.x, p.y);
        ctx.rotate((p.x+p.y)/500);
        ctx.beginPath();
        if(p.shape==='circle') {
          ctx.arc(0,0,p.r*scale,0,2*Math.PI);
        } else if(p.shape==='triangle') {
          ctx.moveTo(0,-p.r*scale);
          ctx.lineTo(p.r*scale,p.r*scale);
          ctx.lineTo(-p.r*scale,p.r*scale);
          ctx.closePath();
        } else if(p.shape==='square') {
          ctx.rect(-p.r*scale,-p.r*scale,p.r*scale*2,p.r*scale*2);
        }
        ctx.fillStyle = p.color;
        ctx.fill();
        ctx.restore();
      }
    }
    function updateParticles() {
      for(const p of particles) {
        p.x += p.dx;
        p.y += p.dy;
        p.z += p.dz;
        if(p.x<0||p.x>canvas.width) p.dx*=-1;
        if(p.y<0||p.y>canvas.height) p.dy*=-1;
        if(p.z<50||p.z>250) p.dz*=-1;
      }
    }
    function animateParticles() {
      updateParticles();
      drawParticles();
      requestAnimationFrame(animateParticles);
    }
    animateParticles();
  </script>
</body>
</html>
