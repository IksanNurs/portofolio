<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portofolio | Full Stack Developer</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', Arial, sans-serif;
      margin: 0;
      background: linear-gradient(135deg, #e3f2fd 0%, #e8f5e9 50%, #263238 100%);
      color: #222;
      position: relative;
      overflow-x: hidden;
    }
    header {
      background: linear-gradient(90deg, #388e7c 0%, #1976d2 100%);
      color: #fff;
      padding: 40px 0 40px 0;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.07);
      position: relative;
      overflow: hidden;
    }
    .glasses {
      width: 120px;
      height: 48px;
      margin-bottom: 16px;
      animation: floatGlasses 2.5s ease-in-out infinite alternate;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    @keyframes floatGlasses {
      0% { transform: translateY(0) scale(1); filter: drop-shadow(0 0 0 #1de9b6); }
      100% { transform: translateY(-12px) scale(1.05); filter: drop-shadow(0 8px 16px #1de9b6aa); }
    }
    header h1 {
      margin: 0;
      font-size: 2.5rem;
      font-weight: 700;
      letter-spacing: 2px;
      text-shadow: 0 2px 8px #1de9b6aa;
      position: relative;
      z-index: 3;
    }
    header p {
      position: relative;
      z-index: 3;
    }
    nav {
      display: flex;
      justify-content: center;
      margin: 40px 0;
    }
    .nav-btn {
      background: linear-gradient(135deg, #e3f2fd 0%, #e8f5e9 100%);
      border: 1.5px solid rgba(56,142,124,0.18);
      color: #1976d2;
      padding: 12px 40px;
      margin: 0 10px;
      font-size: 1.13rem;
      font-weight: 700;
      border-radius: 32px;
      cursor: pointer;
      box-shadow: 0 4px 24px rgba(25,118,210,0.08), 0 1.5px 8px rgba(56,142,124,0.09);
      backdrop-filter: blur(6px);
      letter-spacing: 1.2px;
      transition: all 0.32s cubic-bezier(.4,2,.3,1);
      position: relative;
      overflow: hidden;
    }
    .nav-btn.active, .nav-btn:hover {
      background: linear-gradient(90deg, #388e7c 0%, #1976d2 100%);
      color: #fff;
      box-shadow: 0 8px 32px #1976d2cc, 0 2px 8px #009e6e44;
      border: 1.5px solid #1976d2;
      transform: scale(1.09) translateY(-2px) rotateX(7deg) rotateY(-7deg) skewY(-1deg);
      text-shadow: 0 2px 8px #1de9b6aa;
    }
    .section {
      max-width: 800px;
      margin: 0 auto;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 2px 16px rgba(29,233,182,0.09);
      padding: 32px;
      display: none;
      animation: fadeIn 0.7s;
      perspective: 1200px;
      border: 1px solid #1976d2;
    }
    .section.active {
      display: block;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(24px); }
      to { opacity: 1; transform: translateY(0); }
    }
    h2, h3 {
      color: #1976d2;
    }
    a {
      color: #388e7c;
      text-decoration: underline;
      transition: color 0.2s;
    }
    a:hover {
      color: #1976d2;
    }
    .pdf-viewer {
      background: linear-gradient(135deg, #e3f2fd 0%, #e8f5e9 100%);
      border-radius: 16px;
      box-shadow: 0 4px 32px #1de9b633;
      padding: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: fadeInViewer 1.2s cubic-bezier(.4,2,.3,1);
      transition: box-shadow 0.3s, transform 0.3s;
      perspective: 900px;
    }
 
    iframe {
      box-shadow: 0 4px 32px #388e7c44, 0 2px 8px #1976d222;
      transition: box-shadow 0.3s, transform 0.3s;
      transform-style: preserve-3d;
    }
 
    /* Particle 3D style */
    .particles-bg {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      pointer-events: none;
      z-index: 0;
    }
    @media (max-width: 600px) {
      header h1 { font-size: 1.5rem; }
      .section { padding: 16px; }
      .nav-btn { padding: 8px 16px; font-size: 1rem; }
      .glasses { width: 80px; height: 32px; }
    }
    .cv-link {
      display: inline-block;
      margin-top: 12px;
      font-weight: 700;
      color: #1976d2;
      background: #fff;
      padding: 8px 24px;
      border-radius: 24px;
      box-shadow: 0 2px 8px #1976d222;
      text-decoration: none;
      transition: background 0.2s, color 0.2s, box-shadow 0.2s;
      letter-spacing: 1px;
      position: relative;
      z-index: 3;
    }
    .cv-link:hover {
      background: #1976d2;
      color: #fff;
      box-shadow: 0 4px 16px #1976d288;
      text-shadow: 0 2px 8px #fff;
      filter: none;
    }
    .portfolio-list {
      display: flex;
      flex-wrap: wrap;
      gap: 32px;
      justify-content: center;
      margin-top: 16px;
      margin-bottom: 64px;
    }
    .portfolio-card {
      background: linear-gradient(135deg, #e3f2fd 0%, #e8f5e9 100%);
      border-radius: 18px;
      border:1px solid #1976d2;
      width: 320px;
      padding: 0 0 24px 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: transform 0.2s, box-shadow 0.2s;
      position: relative;
      overflow: hidden;
    }
    .portfolio-card:hover {
      transform: scale(1.04) translateY(-6px);
      box-shadow: 0 8px 32px #388e7c88;
      z-index: 2;
    }
    .portfolio-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-top-left-radius: 18px;
      border-top-right-radius: 18px;
      box-shadow: 0 2px 8px #1976d222;
      background: #eee;
    }
    .portfolio-card .card-title {
      font-size: 1.2rem;
      font-weight: 700;
      color: #1976d2;
      margin: 18px 0 8px 0;
      text-align: center;
      letter-spacing: 1px;
    }
    .portfolio-card .card-link {
      color: #388e7c;
      font-weight: 600;
      text-decoration: none;
      background: #fff;
      padding: 6px 18px;
      border-radius: 16px;
      box-shadow: 0 2px 8px #388e7c22;
      transition: background 0.2s, color 0.2s;
      margin-bottom: 8px;
      display: inline-block;
    }
    .portfolio-card .card-link:hover {
      background: #1976d2;
      color: #fff;
    }
    .portfolio-more {
      text-align: center;
      color: #1976d2;
      font-size: 1.1rem;
      margin-top: 32px;
      font-style: italic;
      opacity: 0.8;
    }
    .batik-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }
    .batik-overlay svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }
    @keyframes spinBatik {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    @keyframes spinBatik2 {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(-360deg); }
    }
    .splash-screen {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      background: linear-gradient(135deg, #e3f2fd 0%, #e8f5e9 60%, #1976d2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.7s cubic-bezier(.4,2,.3,1);
      opacity: 1;
    }
    .splash-screen.hide {
      opacity: 0;
      pointer-events: none;
    }
    .splash-content {
      text-align: center;
      animation: splashFadeIn 1.2s cubic-bezier(.4,2,.3,1);
    }
    @keyframes splashFadeIn {
      from { opacity: 0; transform: scale(0.8) translateY(40px); }
      to { opacity: 1; transform: scale(1) translateY(0); }
    }
    .splash-title {
      font-size: 2.1rem;
      font-weight: 700;
      color: #1976d2;
      margin-top: 18px;
      letter-spacing: 2px;
      text-shadow: 0 2px 8px #388e7c44;
      font-family: 'Roboto', monospace;
    }
    .splash-loader {
      margin-top: 28px;
      display: flex;
      justify-content: center;
      gap: 16px;
    }
    .loader-dot {
      width: 16px; height: 16px;
      border-radius: 50%;
      background: linear-gradient(135deg, #388e7c 0%, #1976d2 100%);
      opacity: 0.7;
      animation: loaderBounce 1.2s infinite alternate;
    }
    .loader-dot:nth-child(2) { animation-delay: 0.3s; }
    .loader-dot:nth-child(3) { animation-delay: 0.6s; }
    @keyframes loaderBounce {
      0% { transform: translateY(0); }
      100% { transform: translateY(-18px); }
    }
    .glasses-btn {
      background: none;
      border: none;
      padding: 0 18px;
      margin: 0 10px;
      display: flex;
      align-items: center;
      cursor: pointer;
      border-radius: 32px;
      box-shadow: 0 4px 24px rgba(191,161,74,0.08), 0 1.5px 8px rgba(255,215,79,0.09);
      transition: box-shadow 0.32s, transform 0.32s;
      position: relative;
      overflow: hidden;
    }
    .glasses-btn .btn-glasses {
      width: 48px;
      height: 24px;
      margin-right: 12px;
      transition: filter 0.2s;
    }
    .glasses-btn .btn-label {
      font-size: 1.13rem;
      font-weight: 700;
      color: #bfa14a;
      letter-spacing: 1.2px;
      font-family: 'Roboto', Arial, sans-serif;
      text-shadow: 0 2px 8px #ffe08244;
    }
    .glasses-btn.active, .glasses-btn:hover {
      box-shadow: 0 8px 32px #bfa14acc, 0 2px 8px #ffe08244;
      transform: scale(1.09) translateY(-2px);
    }
    .glasses-btn.active .btn-label, .glasses-btn:hover .btn-label {
      color: #ffd54f;
      text-shadow: 0 2px 8px #bfa14a88;
    }
    .glasses-btn.active .btn-glasses, .glasses-btn:hover .btn-glasses {
      filter: drop-shadow(0 2px 8px #bfa14a88);
    }
  </style>
</head>
<body>
  <div class="particles-bg">
    <canvas id="particlesCanvas"></canvas>
  </div>
  <div id="splash" class="splash-screen">
    <div class="splash-content">
      <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="40" cy="40" r="36" fill="#1976d2" opacity="0.13"/>
        <rect x="22" y="32" width="36" height="16" rx="8" fill="#388e7c" opacity="0.18"/>
        <text x="40" y="48" text-anchor="middle" font-size="28" font-family="monospace" fill="#217a5b" opacity="0.8">{ }</text>
      </svg>
      <div class="splash-title">Welcome</div>
      <div class="splash-loader">
        <div class="loader-dot"></div>
        <div class="loader-dot"></div>
        <div class="loader-dot"></div>
      </div>
    </div>
  </div>
  <header>
    <div class="batik-overlay">
      <svg width="100%" height="100%" viewBox="0 0 800 120" preserveAspectRatio="none" style="position:absolute;top:0;left:0;z-index:1;pointer-events:none;">
        <defs>
          <pattern id="batikPattern" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse">
            <circle cx="30" cy="30" r="22" fill="#388e7c" opacity="0.13"/>
            <circle cx="30" cy="30" r="12" fill="#1976d2" opacity="0.11"/>
            <rect x="10" y="10" width="40" height="40" rx="12" fill="#fff" opacity="0.07"/>
            <ellipse cx="30" cy="30" rx="18" ry="8" fill="#217a5b" opacity="0.09"/>
          </pattern>
        </defs>
        <rect x="0" y="0" width="800" height="120" fill="url(#batikPattern)" />
        <!-- Ornamen tambahan -->
        <path d="M0,60 Q200,0 400,60 T800,60" stroke="#1976d2" stroke-width="3" fill="none" opacity="0.13"/>
        <path d="M0,100 Q200,140 400,100 T800,100" stroke="#388e7c" stroke-width="2" fill="none" opacity="0.11"/>
        <g opacity="0.12">
          <circle cx="120" cy="40" r="18" fill="#217a5b"/>
          <circle cx="680" cy="80" r="14" fill="#1976d2"/>
          <ellipse cx="400" cy="30" rx="32" ry="10" fill="#388e7c"/>
        </g>
        <!-- Ornamen keren tambahan -->
        <g>
          <g style="animation: spinBatik 18s linear infinite; transform-origin: 700px 30px;">
            <polygon points="700,30 715,45 730,30 715,15" fill="#1976d2" opacity="0.14"/>
            <circle cx="715" cy="30" r="8" fill="#388e7c" opacity="0.13"/>
          </g>
          <g style="animation: spinBatik2 24s linear infinite; transform-origin: 100px 100px;">
            <ellipse cx="100" cy="100" rx="18" ry="8" fill="#217a5b" opacity="0.13"/>
            <polygon points="100,100 110,110 120,100 110,90" fill="#1976d2" opacity="0.12"/>
          </g>
        </g>
      </svg>
    </div>
    <h1>Full Stack Developer</h1>
    <p>Iksan Nursalim</p>
    <a href="Resume.pdf" download class="cv-link" style="display:inline-block;margin-top:12px;font-weight:700;color:#1976d2;background:#fff;padding:8px 24px;border-radius:24px;box-shadow:0 2px 8px #1976d222;text-decoration:none;transition:background 0.2s,color 0.2s;">Download Resume</a>
  </header>
  <nav>
    <button class="nav-btn glasses-btn active" onclick="showSection('cv')">
      <svg class="btn-glasses" width="48" height="24" viewBox="0 0 48 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <ellipse cx="12" cy="12" rx="10" ry="8" fill="url(#goldGrad)" stroke="#bfa14a" stroke-width="2"/>
        <ellipse cx="36" cy="12" rx="10" ry="8" fill="url(#goldGrad)" stroke="#bfa14a" stroke-width="2"/>
        <rect x="12" y="10" width="24" height="4" rx="2" fill="#bfa14a"/>
        <defs>
          <linearGradient id="goldGrad" x1="0" y1="0" x2="48" y2="24" gradientUnits="userSpaceOnUse">
            <stop stop-color="#ffe082"/>
            <stop offset="0.5" stop-color="#ffd54f"/>
            <stop offset="1" stop-color="#bfa14a"/>
          </linearGradient>
        </defs>
      </svg>
      <span class="btn-label">Resume</span>
    </button>
    <button class="nav-btn glasses-btn" onclick="showSection('portfolio')">
      <svg class="btn-glasses" width="48" height="24" viewBox="0 0 48 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <ellipse cx="12" cy="12" rx="10" ry="8" fill="url(#goldGrad)" stroke="#bfa14a" stroke-width="2"/>
        <ellipse cx="36" cy="12" rx="10" ry="8" fill="url(#goldGrad)" stroke="#bfa14a" stroke-width="2"/>
        <rect x="12" y="10" width="24" height="4" rx="2" fill="#bfa14a"/>
        <defs>
          <linearGradient id="goldGrad" x1="0" y1="0" x2="48" y2="24" gradientUnits="userSpaceOnUse">
            <stop stop-color="#ffe082"/>
            <stop offset="0.5" stop-color="#ffd54f"/>
            <stop offset="1" stop-color="#bfa14a"/>
          </linearGradient>
        </defs>
      </svg>
      <span class="btn-label">Portofolio</span>
    </button>
  </nav>
  <section id="cv" class="section active" style="margin-bottom: 100px;">
    <div class="pdf-viewer">
      <iframe src="pdfjs/web/viewer.html?file=../Resume.pdf#sidebar=0" width="100%" height="1000" frameborder="0" allowfullscreen></iframe>
    </div>
  </section>
  <section id="portfolio" class="section" style="margin-bottom:100px">
    <div id="portfolio-list" class="portfolio-list"></div>
    <div class="portfolio-more">Dan masih banyak lagi portofolio yang belum dimasukkan.</div>
  </section>
  <script>
    // Render portfolio cards from JSON
    async function renderPortfolio() {
      const container = document.getElementById('portfolio-list');
      if(!container) return;
      container.innerHTML = '<div style="color:#888;text-align:center;">Loading...</div>';
      try {
        const res = await fetch('portfolio.json');
        const data = await res.json();
        container.innerHTML = data.map(item => `
          <div class="portfolio-card">
            <img src="${item.image}" alt="${item.nama}" />
            <div class="card-title">${item.nama}</div>
            <a href="${item.link}" class="card-link" target="_blank">Kunjungi Website</a>
          </div>
        `).join('');
      } catch(e) {
        container.innerHTML = '<div style="color:#d32f2f;text-align:center;">Gagal memuat data portofolio.</div>';
      }
    }
    // Panggil renderPortfolio saat menu portofolio dibuka
    function showSection(section) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById(section).classList.add('active');
      document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
      if(section === 'cv') {
        document.querySelectorAll('.nav-btn')[0].classList.add('active');
      } else {
        document.querySelectorAll('.nav-btn')[1].classList.add('active');
        renderPortfolio();
      }
    }
    // Jika pertama kali buka portofolio, render juga
    if(window.location.hash==='#portfolio') renderPortfolio();
    // Particle 3D animation (multi-shape)
    const canvas = document.getElementById('particlesCanvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    const codeSymbols = ['{}', '</>', '()', '=>', '[]', '/* */', 'fn', 'let', 'const', 'class', 'import', 'return', 'if', 'else', '&&', '||', 'for', 'while', 'try', 'catch'];
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
    function createParticles() {
      particles = [];
      const shapes = ['circle','triangle','square','code'];
      for(let i=0; i<36; i++) {
        const shape = shapes[Math.floor(Math.random()*shapes.length)];
        particles.push({
          x: Math.random()*canvas.width,
          y: Math.random()*canvas.height,
          z: Math.random()*200+50,
          r: Math.random()*8+6,
          dx: (Math.random()-0.5)*0.6,
          dy: (Math.random()-0.5)*0.6,
          dz: (Math.random()-0.5)*0.2,
          color: [
            'rgba(56,142,124,0.5)', // hijau gelap
            'rgba(25,118,210,0.4)', // biru
            'rgba(38,50,56,0.3)',   // abu gelap
            'rgba(255,255,255,0.18)'
          ][Math.floor(Math.random()*4)],
          shape,
          symbol: shape==='code' ? codeSymbols[Math.floor(Math.random()*codeSymbols.length)] : null
        });
      }
    }
    createParticles();
    function drawParticles() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      for(const p of particles) {
        let scale = 1 + p.z/300;
        ctx.save();
        ctx.globalAlpha = 0.8;
        ctx.shadowColor = p.color;
        ctx.translate(p.x, p.y);
        ctx.rotate((p.x+p.y)/500);
        ctx.beginPath();
        if(p.shape==='circle') {
          ctx.arc(0,0,p.r*scale,0,2*Math.PI);
          ctx.fillStyle = p.color;
          ctx.fill();
        } else if(p.shape==='triangle') {
          ctx.moveTo(0,-p.r*scale);
          ctx.lineTo(p.r*scale,p.r*scale);
          ctx.lineTo(-p.r*scale,p.r*scale);
          ctx.closePath();
          ctx.fillStyle = p.color;
          ctx.fill();
        } else if(p.shape==='square') {
          ctx.rect(-p.r*scale,-p.r*scale,p.r*scale*2,p.r*scale*2);
          ctx.fillStyle = p.color;
          ctx.fill();
        } else if(p.shape==='code' && p.symbol) {
          ctx.font = `${Math.round(p.r*2.2*scale)}px 'Roboto', monospace`;
          ctx.fillStyle = p.color;
          ctx.globalAlpha = 0.7;
          ctx.textAlign = 'center';
          ctx.textBaseline = 'middle';
          ctx.fillText(p.symbol, 0, 0);
        }
        ctx.restore();
      }
    }
    function updateParticles() {
      for(const p of particles) {
        p.x += p.dx;
        p.y += p.dy;
        p.z += p.dz;
        if(p.x<0||p.x>canvas.width) p.dx*=-1;
        if(p.y<0||p.y>canvas.height) p.dy*=-1;
        if(p.z<50||p.z>250) p.dz*=-1;
      }
    }
    function animateParticles() {
      updateParticles();
      drawParticles();
      requestAnimationFrame(animateParticles);
    }
    animateParticles();
    window.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() {
        document.getElementById('splash').classList.add('hide');
      }, 1800);
    });
  </script>
</body>
</html>
